<div id="stats-dialog" class="dialog-frame" style="width: 600px;">
    <div class="dialog-header" bind="dialogHeader">Stats</div>
    <!--div class="dialog-body" bind="dialogBody">
        <table>
            <tr><td class="key">Ids</td><td class="value" bind="dialogIds">N/A</td></tr>
            <tr><td class="key">Newick</td><td class="value" bind="dialogNewick">N/A</td></tr>
        </table>
    </div-->
    <div id="newickholder" data-newickStr="foo"></div> 
    <div class="dialog-body" bind="dialogBody">
        <!--table>
            <tr><td class="key">OttIds!</td><td class="value" bind="dialogIds">N/A</td></tr>
            <tr><td class="key">Newick</td><td id="nwcell" class="value" bind="dialogNewick">N/A</td></tr>
        </table-->
        <span id="nwcell" hidden="true" class="value" bind="dialogNewick">N/A</span>
    	<script>
    		//console.log(newickstr);
    		//var newick = newick.parse(newickstr);
    		
    		var nn = document.getElementById('nwcell').textContent;
    		//console.log("trying to dump newick"");
    		console.log(nn);
    		
            //var newick = newick.parse("(((Crotalus_oreganus_oreganus_cytochrome_b:0.00800,Crotalus_horridus_cytochrome_b:0.05866):0.04732,(Thamnophis_elegans_terrestris_cytochrome_b:0.00366,Thamnophis_atratus_cytochrome_b:0.00172):0.06255):0.00555,(Pituophis_catenifer_vertebralis_cytochrome_b:0.00552,Lampropeltis_getula_cytochrome_b:0.02035):0.05762,((Diadophis_punctatus_cytochrome_b:0.06486,Contia_tenuis_cytochrome_b:0.05342):0.01037,Hypsiglena_torquata_cytochrome_b:0.05346):0.00779);")
            var newick = newick.parse(nn);
            var newickNodes = []
            function buildNewickNodes(node, callback) {
              newickNodes.push(node)
              if (node.branchset) {
                for (var i=0; i < node.branchset.length; i++) {
                  buildNewickNodes(node.branchset[i])
                }
              }
            }
            buildNewickNodes(newick)
            
            d3.phylogram.buildRadial('#vis', newick, {
              width: 400,
              skipLabels: false
            })
		</script>
    </div>
    <div id="vis"></div>
    <div class="dialog-footer" bind="dialogFooter"><div class="grid-layout layout-normal layout-full">
        <button class="button" bind="okButton" id="stats-ok">Ok</button>
    </div>
</div>
